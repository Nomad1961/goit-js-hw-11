import{i as c,S as y}from"./assets/vendor-8c59ed88.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(e){if(e.ep)return;e.ep=!0;const a=n(e);fetch(e.href,a)}})();const v="43839854-7e39202c3c35776610ceb4193";async function g(t){const s=`https://pixabay.com/api/?key=${v}&q=${t}&image_type=photo&orientation=horizontal&safesearch=true`;return(await(await fetch(s)).json()).hits}function p(t){const s=document.getElementById("gallery");s.innerHTML="",t.length===0?c.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"}):t.forEach(n=>{const o=document.createElement("img");o.src=n.webformatURL,o.alt=n.tags,o.dataset.largeImage=n.largeImageURL,o.dataset.likes=n.likes,o.dataset.views=n.views,o.dataset.comments=n.comments,o.dataset.downloads=n.downloads,o.addEventListener("click",w);const e=document.createElement("div");e.className="card",e.appendChild(o);const a=document.createElement("div");a.className="info",a.innerHTML=`
        <p>Likes: ${n.likes}</p>
        <p>Views: ${n.views}</p>
        <p>Comments: ${n.comments}</p>
        <p>Downloads: ${n.downloads}</p>
      `,e.appendChild(a),s.appendChild(e)})}function w(t){const s=document.getElementById("modal"),n=document.getElementById("modal-img"),o=document.getElementById("caption"),e=t.target;s.style.display="block",n.src=e.dataset.largeImage,o.textContent=`Likes: ${e.dataset.likes}, Views: ${e.dataset.views}, Comments: ${e.dataset.comments}, Downloads: ${e.dataset.downloads}`}const f=document.getElementById("search-form"),h=document.getElementById("search-input"),I=new y(".simplelightbox a",{elements:".simplelightbox",closeText:"Закрыть",docClose:!0});f.addEventListener("submit",async t=>{t.preventDefault();const s=h.value.trim();if(s==="")c.warning({title:"Warning",message:"Please enter a search term."});else{const n=await g(s);p(n),new y(".simplelightbox a",{elements:".simplelightbox",closeText:"Закрыть",docClose:!0}).refresh()}});f.addEventListener("submit",async t=>{t.preventDefault();const s=h.value.trim();gallery.innerHTML="";const n=document.querySelector(".loader");if(n.style.display="block",s==="")c.warning({title:"Warning",message:"Please enter a search term."});else try{const o=await g(s);p(o),I.refresh()}catch{c.error({title:"Error",message:"An error occurred while fetching images. Please try again."})}finally{n.style.display="none"}});const b=document.querySelector(".close-button"),d=document.getElementById("modal");b.addEventListener("click",()=>{d.style.display="none"});window.addEventListener("click",t=>{t.target===d&&(d.style.display="none")});let l=0,m=0,r=[];function u(){const t=document.querySelector(".gallery-nav.prev"),s=document.querySelector(".gallery-nav.next");t.style.display=l>0?"block":"none",s.style.display=l<m-1?"block":"none"}document.querySelectorAll(".gallery-nav").forEach(t=>{t.addEventListener("click",()=>{t.classList.contains("prev")?l=Math.max(l-1,0):l=Math.min(l+1,m-1),E(l),u()})});function E(t){const s=document.getElementById("modal"),n=document.getElementById("modalImage"),o=document.getElementById("caption");s.style.display="block",n.src=r[t].src,o.textContent=r[t].alt,u()}document.getElementById("modalImage").addEventListener("mouseover",()=>{document.querySelectorAll(".gallery-nav").forEach(t=>{t.style.display="block"})});document.getElementById("modalImage").addEventListener("mouseout",()=>{document.querySelectorAll(".gallery-nav").forEach(t=>{t.style.display="none"})});function L(t){const s=document.getElementById("gallery");r=t,m=r.length,r.forEach((n,o)=>{const e=document.createElement("img");e.src=n.src,e.alt=n.alt,e.addEventListener("click",()=>{E(o)}),s.appendChild(e)}),u()}L(imageData);
//# sourceMappingURL=commonHelpers.js.map
