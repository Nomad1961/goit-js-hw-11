{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '43839854-7e39202c3c35776610ceb4193';\n\nexport async function fetchImages(searchTerm) {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true`;\n  const response = await fetch(url);\n  const data = await response.json();\n  return data.hits;\n}\n","import iziToast from 'izitoast';\n\nexport function displayImages(images) {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n\n  if (images.length === 0) {\n    iziToast.error({\n      title: 'Error',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n  } else {\n    images.forEach(image => {\n      const imgElement = document.createElement('img');\n      imgElement.src = image.webformatURL;\n      imgElement.alt = image.tags;\n      imgElement.dataset.largeImage = image.largeImageURL;\n      imgElement.dataset.likes = image.likes;\n      imgElement.dataset.views = image.views;\n      imgElement.dataset.comments = image.comments;\n      imgElement.dataset.downloads = image.downloads;\n      imgElement.addEventListener('click', showModal);\n      const card = document.createElement('div');\n      card.className = 'card';\n      card.appendChild(imgElement);\n      const info = document.createElement('div');\n      info.className = 'info';\n      info.innerHTML = `\n        <p>Likes: ${image.likes}</p>\n        <p>Views: ${image.views}</p>\n        <p>Comments: ${image.comments}</p>\n        <p>Downloads: ${image.downloads}</p>\n      `;\n      card.appendChild(info);\n      gallery.appendChild(card);\n    });\n  }\n}\n\nfunction showModal(event) {\n  const modal = document.getElementById('modal');\n  const modalImg = document.getElementById('modal-img');\n  const caption = document.getElementById('caption');\n  const img = event.target;\n\n  modal.style.display = 'block';\n  modalImg.src = img.dataset.largeImage;\n  caption.textContent = `Likes: ${img.dataset.likes}, Views: ${img.dataset.views}, Comments: ${img.dataset.comments}, Downloads: ${img.dataset.downloads}`;\n}\n","import iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport { displayImages } from './js/render-functions.js';\n\nimport SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst loader = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', async e => {\n  e.preventDefault();\n  const searchTerm = searchInput.value.trim();\n\n  loader.style.display = 'block';\n\n  if (searchTerm === '') {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search term.',\n    });\n    loader.style.display = 'none';\n  } else {\n    try {\n      const images = await fetchImages(searchTerm);\n      displayImages(images);\n\n      const lightbox = new SimpleLightbox('.simplelightbox a', {\n        elements: '.simplelightbox',\n        closeText: 'Закрыть',\n        docClose: true,\n      });\n      lightbox.refresh();\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: 'An error occurred while fetching images. Please try again.',\n      });\n    } finally {\n      loader.style.display = 'none';\n      searchInput.value = '';\n    }\n  }\n});\n\n// -----------close_buttom-------------------------\n\nconst closeButton = document.querySelector('.close-button');\nconst modal = document.getElementById('modal');\n\ncloseButton.addEventListener('click', () => {\n  modal.style.display = 'none';\n});\n\nwindow.addEventListener('click', event => {\n  if (event.target === modal) {\n    modal.style.display = 'none';\n  }\n});\n\n// preview-next=====================\n\nlet currentIndex = 0;\nlet totalImages = 0;\nlet images = [];\n\nfunction showGalleryNavigation() {\n  const prevNav = document.querySelector('.gallery-nav-prev');\n  const nextNav = document.querySelector('.gallery-nav-next');\n\n  prevNav.style.display = currentIndex > 0 ? 'block' : 'none';\n  nextNav.style.display = currentIndex < totalImages - 1 ? 'block' : 'none';\n}\n\ndocument\n  .querySelectorAll('.gallery-nav-prev, .gallery-nav-next')\n  .forEach(nav => {\n    nav.addEventListener('click', () => {\n      if (nav.classList.contains('gallery-nav-prev')) {\n        currentIndex = Math.max(currentIndex - 1, 0);\n      } else {\n        currentIndex = Math.min(currentIndex + 1, totalImages - 1);\n      }\n      showModal(currentIndex);\n      showGalleryNavigation();\n    });\n  });\n\ndocument.getElementById('modal-img').addEventListener('mouseover', () => {\n  document\n    .querySelectorAll('.gallery-nav-prev, .gallery-nav-next')\n    .forEach(nav => {\n      nav.style.display = 'none';\n    });\n});\n\ndocument.getElementById('modal-img').addEventListener('mouseout', () => {\n  document\n    .querySelectorAll('.gallery-nav-prev, .gallery-nav-next')\n    .forEach(nav => {\n      nav.style.display = 'block';\n    });\n});\nfunction addImagesToGallery(imageData) {\n  const gallery = document.getElementById('gallery');\n  images = imageData;\n  totalImages = images.length;\n\n  images.forEach((image, index) => {\n    const img = document.createElement('img');\n    img.src = image.src;\n    img.alt = image.alt;\n    img.addEventListener('click', () => {\n      showModal(index);\n    });\n    gallery.appendChild(img);\n  });\n\n  showGalleryNavigation();\n}\n\naddImagesToGallery(imageData);\n"],"names":["apiKey","fetchImages","searchTerm","url","displayImages","images","gallery","iziToast","image","imgElement","showModal","card","info","event","modal","modalImg","caption","img","searchForm","searchInput","loader","e","SimpleLightbox","closeButton","currentIndex","totalImages","showGalleryNavigation","prevNav","nextNav","nav","addImagesToGallery","imageData","index"],"mappings":"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"}