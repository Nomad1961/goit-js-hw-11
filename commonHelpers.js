import{i as d,S as g}from"./assets/vendor-8c59ed88.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(e){if(e.ep)return;e.ep=!0;const a=n(e);fetch(e.href,a)}})();const f="43839854-7e39202c3c35776610ceb4193";async function h(t){const s=`https://pixabay.com/api/?key=${f}&q=${t}&image_type=photo&orientation=horizontal&safesearch=true`;return(await(await fetch(s)).json()).hits}function v(t){const s=document.getElementById("gallery");s.innerHTML="",t.length===0?d.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"}):t.forEach(n=>{const o=document.createElement("img");o.src=n.webformatURL,o.alt=n.tags,o.dataset.largeImage=n.largeImageURL,o.dataset.likes=n.likes,o.dataset.views=n.views,o.dataset.comments=n.comments,o.dataset.downloads=n.downloads,o.addEventListener("click",E);const e=document.createElement("div");e.className="card",e.appendChild(o);const a=document.createElement("div");a.className="info",a.innerHTML=`
        <p>Likes: ${n.likes}</p>
        <p>Views: ${n.views}</p>
        <p>Comments: ${n.comments}</p>
        <p>Downloads: ${n.downloads}</p>
      `,e.appendChild(a),s.appendChild(e)})}function E(t){const s=document.getElementById("modal"),n=document.getElementById("modal-img"),o=document.getElementById("caption"),e=t.target;s.style.display="block",n.src=e.dataset.largeImage,o.textContent=`Likes: ${e.dataset.likes}, Views: ${e.dataset.views}, Comments: ${e.dataset.comments}, Downloads: ${e.dataset.downloads}`}const w=document.getElementById("search-form"),y=document.getElementById("search-input"),c=document.querySelector(".loader");w.addEventListener("submit",async t=>{t.preventDefault();const s=y.value.trim();if(c.style.display="block",s==="")d.warning({title:"Warning",message:"Please enter a search term."}),c.style.display="none";else try{const n=await h(s);v(n),new g(".simplelightbox a",{elements:".simplelightbox",closeText:"Закрыть",docClose:!0}).refresh()}catch{d.error({title:"Error",message:"An error occurred while fetching images. Please try again."})}finally{c.style.display="none",y.value=""}});const I=document.querySelector(".close-button"),m=document.getElementById("modal");I.addEventListener("click",()=>{m.style.display="none"});window.addEventListener("click",t=>{t.target===m&&(m.style.display="none")});let l=0,u=0,i=[];function p(){const t=document.querySelector(".gallery-nav-prev"),s=document.querySelector(".gallery-nav-next");t.style.display=l>0?"block":"none",s.style.display=l<u-1?"block":"none"}document.querySelectorAll(".gallery-nav-prev, .gallery-nav-next").forEach(t=>{t.addEventListener("click",()=>{t.classList.contains("gallery-nav-prev")?l=Math.max(l-1,0):l=Math.min(l+1,u-1),showModal(l),p()})});document.getElementById("modal-img").addEventListener("mouseover",()=>{document.querySelectorAll(".gallery-nav-prev, .gallery-nav-next").forEach(t=>{t.style.display="none"})});document.getElementById("modal-img").addEventListener("mouseout",()=>{document.querySelectorAll(".gallery-nav-prev, .gallery-nav-next").forEach(t=>{t.style.display="block"})});function L(t){const s=document.getElementById("gallery");i=t,u=i.length,i.forEach((n,o)=>{const e=document.createElement("img");e.src=n.src,e.alt=n.alt,e.addEventListener("click",()=>{showModal(o)}),s.appendChild(e)}),p()}L(imageData);
//# sourceMappingURL=commonHelpers.js.map
